@import "breakpoint";
@import "singularitygs";
@import "reset";

@import "typography";
@import "variables";

@include add-grid(1);
@include add-grid(1 5 at $toc-break);
@include add-gutter(1/3);


body {
  background-color: $background-color;
  color: $main-text-color;
  margin: 0;
}

// Navigation

nav.prev_up_next {
  @include grid-span(2, 1);
  background: linear-gradient(to bottom, 
                              lighten($top-nav-color, 10%) 0%, 
                              darken($top-nav-color, 10%) 100%);
  height: 2em;
  ul {
    list-style:none;
  }
  li {
    display: inline;
  }
  a {
    padding: .5em;
    text-shadow: 1px 2px 0px rgba(0,0,0,0.8);
    color: white;
    text-decoration: none;
  }
}

span.navtitle {
    padding: .5em;
    text-shadow: 1px 2px 0px rgba(0,0,0,0.8);
    color: white;
    font-size: 2em;
  }


// Breadcrumbs

ul.breadcrumbs {
  display: none;
  @include breakpoint($toc-break) {
    display: block;
    @include float-span(1, 2);
  };
  list-style:none;
  padding: 0;
  margin: 1em 0;
}

ul.breadcrumbs li {
  display: block;
  float: left;
}

ul.breadcrumbs a {
  text-decoration: none;
  color: darken($top-nav-color, 10%)
}


li.crumb::after {
  content: " / ";
}

// Table of contents

nav.toc {
  display: none;
  @include breakpoint($toc-break) {
    display: block;
    @include float-span(1,1);
  };
  background-color: $toc-background-color;
}

.toc ul {
  list-style:none;
  padding-left: 0;

  a {
    display: block;
    padding-top: .5em;
    padding-bottom: .5em;
    color: white;
    text-shadow: 2px 2px 2px rgba(0,0,0,0.8);
    text-align: center;
    text-decoration: none;
    transition: all 0.1s ease;
    &:hover {
      background: darken($toc-background-color, 10%);
      transition: all 0.2s ease;
    };
  };

  li {
    box-shadow: inset 0px 1px 3px darken($toc-background-color, 5%);
  }
}

.section_toc a {
  padding-left: 2*$toc-padding;
}

.subsection_toc a {
  padding-left: 3*$toc-padding;
}

// Main content

div.content, section#footnotes {
  @include float-span(2,1);
  @include breakpoint($toc-break) {
    @include float-span(1, 2);
  }
}

.content p {
  margin: 1em 0;
  clear: both;
}


// Maths

div.equation {
  margin: 1em 1em;

  span.equation_label {
    float: left;
    margin-right: 1em;
  }
  span.equation_label::before {
      content: "(";
  };
  span.equation_label::after {
      content: ")";
  };
  div.equation_content {
    float: left;
    margin-left: 3em;
  }
}

// Footnotes

section#footnotes {
  border-top: 1px solid;
  border-color: gray;
}
section#footnotes h1 {
    font-size:1.5em;
    color:black;
    margin:0;
    margin-bottom: .5em;
}
